{"version":3,"sources":["Emitter.js","spring-simulator.js","spring.js","utils.js","Component.js","ExampleClass.js","Application.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var $$ = $$ || {};\r\n\r\n$$.Emitter = class Emitter {\r\n\tconstructor () {\r\n\t\tthis._itemContainer = new $$.Emitter.ItemContainer();\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Boolean}\r\n\t * @private\r\n\t */\r\n\t_isEventIdJustANamespace (eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\treturn !!eventId.match(/^\\.[a-z\\d]+$/i);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Array} [eventName, namespace]\r\n\t * @throws {Error}\r\n\t * @private\r\n\t */\r\n\t_parseAndValidateEventId (eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\t// Either a single event name.\r\n\r\n\t\tvar match = eventId.match(/^[a-z\\d]+$/i);\r\n\r\n\t\tif (match) {\r\n\t\t\treturn [ match[ 0 ], null ];\r\n\t\t}\r\n\r\n\t\t// Or an event name + a namespace name.\r\n\r\n\t\tmatch = eventId.match(/^([a-z\\d]+)\\.([a-z\\d]+)$/i);\r\n\r\n\t\tif (!match) {\r\n\t\t\tthrow Error(\r\n\t\t\t\t'Full event names should not be empty, should consist of letters and numbers'\r\n\t\t\t\t+ ' and may contain only single dot in the middle.'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn [ match[ 1 ], match[ 2 ] ];\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t */\r\n\ttrigger (eventId /*, eventData1, eventData2, ... */) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\tvar items = this._itemContainer.getItems(parts[ 0 ], parts[ 1 ]);\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\t\t_.each(items, function (item) {\r\n\t\t\titem.callback.apply(null, args);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @param {Function} callback\r\n\t */\r\n\ton (eventId, callback) {\r\n\t\tif (!callback) {\r\n\t\t\tthrow Error('An event callback should be provided.');\r\n\t\t}\r\n\r\n\t\tif (!_.isFunction(callback)) {\r\n\t\t\tthrow Error('An event callback should be a function.');\r\n\t\t}\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\r\n\t\tthis._itemContainer.add(parts[ 0 ], parts[ 1 ], callback);\r\n\t}\r\n\r\n\toff (eventId) {\r\n\t\tif (!arguments.length) {\r\n\t\t\tthis._itemContainer.clear();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\teventId = String(eventId);\r\n\r\n\t\tif (!this._isEventIdJustANamespace(eventId)) {\r\n\t\t\t// Event name and possible namespace.\r\n\t\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\t\tthis._itemContainer.remove(parts[ 0 ], parts[ 1 ]);\r\n\t\t} else {\r\n\t\t\t// Just a namespace.\r\n\t\t\tthis._itemContainer.remove(null, eventId.substr(1));\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n$$.Emitter.ItemContainer = class EmitterItemContainer {\r\n\tconstructor () {\r\n\t\t/* Items:\r\n\t\t *\r\n\t\t * {\r\n\t\t *   eventName1: {\r\n\t\t *     namespace1: [ { callback, *... }, ... ],\r\n\t\t *     namespace2: [ ... ]\r\n\t\t *     ...\r\n\t\t *   },\r\n\t\t *\r\n\t\t *   eventName2: { ... }\r\n\t\t *   ...\r\n\t\t * }\r\n\t\t */\r\n\t\tthis._items = {};\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String} namespace\r\n\t * @param {Function} callback\r\n\t */\r\n\tadd (eventName, namespace, callback) {\r\n\t\teventName = String(eventName);\r\n\t\tnamespace = !namespace ? '*' : String(namespace);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\tthis._items[ eventName ] = {};\r\n\t\t}\r\n\r\n\t\tif (!this._items[ eventName ].hasOwnProperty(namespace)) {\r\n\t\t\tthis._items[ eventName ][ namespace ] = [];\r\n\t\t}\r\n\r\n\t\tthis._items[ eventName ][ namespace ].push({\r\n\t\t\tcallback: callback\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String}|null namespace\r\n\t * @return {Array}\r\n\t */\r\n\tgetItems (eventName, namespace) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tif (!namespace) {\r\n\t\t\t// Return items for all namespaces of the event.\r\n\r\n\t\t\tvar arraysOfItems = _.values(this._items[ eventName ]);\r\n\r\n\t\t\treturn _.union.apply(null, arraysOfItems);\r\n\t\t}\r\n\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\tif (!this._items[ eventName ].hasOwnProperty(namespace)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn this._items[ eventName ][ namespace ];\r\n\t}\r\n\r\n\t/**\r\n\t * Removes by event name, by namespace or by both.\r\n\t *\r\n\t * @param {String} eventName\r\n\t * @param {String} namespace\r\n\t */\r\n\tremove (eventName, namespace) {\r\n\t\tif (!eventName && !namespace) {\r\n\t\t\tthrow Error('Only one of the arguments can be omitted.');\r\n\t\t}\r\n\r\n\t\tif (!namespace) {\r\n\t\t\tthis.removeByEventName(eventName);\r\n\t\t} else if (!eventName) {\r\n\t\t\tthis.removeByNamespace(namespace);\r\n\t\t} else {\r\n\t\t\t// Both eventName and namespace are not null.\r\n\r\n\t\t\teventName = String(eventName);\r\n\t\t\tnamespace = String(namespace);\r\n\r\n\t\t\tif (!this._items.hasOwnProperty(eventName) || !this._items[ eventName ].hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete this._items[ eventName ][ namespace ];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t */\r\n\tremoveByEventName (eventName) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete this._items[ eventName ];\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} namespace\r\n\t */\r\n\tremoveByNamespace (namespace) {\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\t_.each(this._items, function (itemsByNamespace) {\r\n\t\t\tif (!itemsByNamespace.hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete itemsByNamespace[ namespace ];\r\n\t\t});\r\n\t}\r\n\r\n\tclear () {\r\n\t\tthis._items = {};\r\n\t}\r\n};\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * Не нужно использовать этот класс напрямую. Нужно использовать $$.Simulation.Spring.\r\n */\r\n$$.Simulation.SpringSimulator = function() {\r\n\tvar self = this;\r\n\r\n\tthis._springs = [];\r\n\tthis._lastTime = +(new Date());\r\n\r\n\tsetInterval(function() {\r\n\t\tvar now = +(new Date());\r\n\t\tvar time = (now - self._lastTime) / 1000;\r\n\t\tvar dt = 0.01;\r\n\r\n\t\tif (time > 0.2) {\r\n\t\t\t// Если жс работает слишком медленно, замедлить симуляцию.\r\n\t\t\ttime = 0.2;\r\n\t\t}\r\n\r\n\t\tvar i, ni = self._springs.length, spring\r\n\t\t\t, dampings = []\r\n\t\t\t, distance, newDistance, force, newVelocity\r\n\t\t\t, targetVelocityLimit, velocityLimit, positionLimits;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\t\t\tdampings.push(2 * Math.sqrt(spring._rigidness) * spring._damping);\r\n\t\t}\r\n\r\n\t\twhile (time > 0.000001) {\r\n\t\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\t\tspring = self._springs[i];\r\n\t\t\t\t\r\n\t\t\t\tif (spring._frozen) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdistance = spring._target - spring._position;\r\n\r\n\t\t\t\tforce = (distance >= 0 ? 1 : -1) * Math.pow(Math.abs(distance), spring._forcePower) * spring._rigidness\r\n\t\t\t\t\t- (spring._velocity >= 0 ? 1 : -1) * Math.abs(spring._velocity) * dampings[i];\r\n\r\n\t\t\t\tnewVelocity = spring._velocity + force * dt;\r\n\r\n\t\t\t\tvelocityLimit = spring._velocityLimit;\r\n\t\t\t\ttargetVelocityLimit = spring._targetVelocityLimit;\r\n\r\n\t\t\t\tif (targetVelocityLimit !== null) {\r\n\t\t\t\t\ttargetVelocityLimit *= Math.pow(spring._targetVelocityLimitPower, Math.abs(distance));\r\n\r\n\t\t\t\t\tif (velocityLimit === null || targetVelocityLimit < velocityLimit) {\r\n\t\t\t\t\t\tvelocityLimit = targetVelocityLimit;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (velocityLimit !== null && Math.abs(newVelocity) > velocityLimit) {\r\n\t\t\t\t\tnewVelocity = (newVelocity >= 0 ? 1 : -1) * velocityLimit;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspring._position += newVelocity * dt;\r\n\t\t\t\tspring._velocity = newVelocity;\r\n\r\n\t\t\t\tif (spring._stopAtTarget) {\r\n\t\t\t\t\tnewDistance = spring._target - spring._position;\r\n\r\n\t\t\t\t\tif (distance > 0 && newDistance <= 0 || distance < 0 && newDistance >= 0) {\r\n\t\t\t\t\t\tspring._position = spring._target;\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (spring._positionLimits !== null) {\r\n\t\t\t\t\tpositionLimits = spring._positionLimits;\r\n\r\n\t\t\t\t\tif (spring._position < positionLimits[0]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[0];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t} else if (spring._position > positionLimits[1]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[1];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttime -= dt;\r\n\t\t}\r\n\r\n\t\tself._lastTime = now;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\r\n\t\t\tif (spring == null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!spring._frozen && spring._step) {\r\n\t\t\t\tspring._step.call();\r\n\t\t\t}\r\n\t\t}\r\n\t}, 20);\r\n};\r\n\r\n$$.Simulation.SpringSimulator.prototype = {\r\n\taddSpring: function(spring) {\r\n\t\tthis._springs.push(spring);\r\n\t},\r\n\r\n\tdeleteSpring: function(spring) {\r\n\t\tvar i = _.indexOf(this._springs, spring);\r\n\r\n\t\tif (i != -1) {\r\n\t\t\tthis._springs.splice(i, 1);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Создать один \"глобальный\" экземпляр.\r\n\r\n$$.Simulation.__springSimulator = new $$.Simulation.SpringSimulator();\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * @constructor\r\n */\r\n$$.Simulation.Spring = function (options) {\r\n\toptions = _.extend({\r\n\t\tfrozen:                   false,\r\n\t\tposition:                 0,\r\n\t\tpositionLimits:           null,\r\n\t\ttarget:                   0,\r\n\t\ttargetLimits:             null,\r\n\t\tvelocity:                 0,\r\n\t\tvelocityLimit:            null,\r\n\t\trigidness:                1,\r\n\t\tdamping:                  1,\r\n\t\tforcePower:               1,\r\n\t\ttargetVelocityLimit:      null,\r\n\t\ttargetVelocityLimitPower: 1.25,\r\n\t\tstopAtTarget:             false,\r\n\t\tstep:                     null\r\n\t}, options || {});\r\n\r\n\tthis._frozen = options.frozen;\r\n\tthis._position = options.position;\r\n\tthis._positionLimits = options.positionLimits;\r\n\tthis._target = options.target;\r\n\tthis._targetLimits = options.targetLimits;\r\n\tthis._velocity = options.velocity;\r\n\tthis._velocityLimit = options.velocityLimit;\r\n\tthis._rigidness = options.rigidness;\r\n\tthis._damping = options.damping;\r\n\tthis._forcePower = options.forcePower;\r\n\tthis._targetVelocityLimit = options.targetVelocityLimit;\r\n\tthis._targetVelocityLimitPower = options.targetVelocityLimitPower;\r\n\tthis._stopAtTarget = options.stopAtTarget;\r\n\tthis._step = null;\r\n\r\n\tif (options.step) {\r\n\t\tthis.step(options.step);\r\n\t}\r\n\r\n\tthis._applyTargetLimits();\r\n\r\n\t$$.Simulation.__springSimulator.addSpring(this);\r\n};\r\n\r\n$$.Simulation.Spring.prototype = {\r\n\t_applyTargetLimits: function () {\r\n\t\tif (this._targetLimits === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this._target < this._targetLimits[ 0 ]) {\r\n\t\t\tthis._target = this._targetLimits[ 0 ];\r\n\t\t} else if (this._target > this._targetLimits[ 1 ]) {\r\n\t\t\tthis._target = this._targetLimits[ 1 ];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function () {\r\n\t\tthis._step = null;\r\n\t\t$$.Simulation.__springSimulator.deleteSpring(this);\r\n\t},\r\n\r\n\tmoveTarget: function (delta) {\r\n\t\tthis._target += delta;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\tstep: function (callback) {\r\n\t\tthis._step = _.bind(callback, this);\r\n\t},\r\n\r\n\ttarget: function (value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._target;\r\n\t\t}\r\n\r\n\t\tthis._target = value;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\ttargetLimits: function (value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._targetLimits;\r\n\t\t}\r\n\r\n\t\tthis._targetLimits = value;\r\n\t\tthis._applyTargetLimits();\r\n\t}\r\n};\r\n\r\n// Создать методы-аксессоры.\r\n\r\n_.each([\r\n\t'frozen', 'position', 'positionLimits', 'velocity', 'velocityLimit'\r\n\t, 'rigidness', 'damping', 'forcePower',\r\n\t, 'targetVelocityLimit', 'targetVelocityLimitPower', 'stopAtTarget'\r\n], function (k) {\r\n\t$$.Simulation.Spring.prototype[ k ] = function (value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this[ '_' + k ];\r\n\t\t}\r\n\r\n\t\tthis[ '_' + k ] = value;\r\n\t};\r\n});\r\n","var $$ = $$ || {};\r\n\r\n$$.extend = function (Child, Parent) {\r\n\tvar F = function () {\r\n\t};\r\n\tF.prototype = Parent.prototype;\r\n\tChild.prototype = new F();\r\n\tChild.prototype.constructor = Child;\r\n\tChild.superclass = Parent.prototype;\r\n};\r\n\r\n$$.trim = function (str, charlist) {\r\n\tcharlist = !charlist ? ' \\\\s\\xA0' : charlist.replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\$1');\r\n\tvar re = new RegExp('^[' + charlist + ']+|[' + charlist + ']+$', 'g');\r\n\treturn str.replace(re, '');\r\n};\r\n\r\n$$.parseUrlParams = function (url) {\r\n\tvar url = url || location.href;\r\n\tvar searchParam = {};\r\n\tvar regExpParams = /\\?{1}.+/;\r\n\r\n\tif (regExpParams.test(url)) {\r\n\t\turl = url.replace(regExpParams, '');\r\n\r\n\t\tvar urlParams = location.search.replace('?', '');\r\n\t\turlParams = urlParams.split('&');\r\n\r\n\t\t_.each(urlParams, function (item, index, list) {\r\n\t\t\tvar param = item.split('=');\r\n\t\t\tsearchParam[ param[ 0 ] ] = param[ 1 ];\r\n\t\t});\r\n\t}\r\n\treturn searchParam;\r\n};\r\n\r\n$$.clamp = function (value, min, max) {\r\n\treturn Math.min(max, Math.max(min, value));\r\n};\r\n\r\n$$.getRandomInt = function (min, max) {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\n$$.makeVideoPlayerHtml = function (videoType, videoId, width, height) {\r\n\tif (videoType == 'youtube') {\r\n\t\treturn '<iframe class=\"youtube-player\" type=\"text/html\"'\r\n\t\t\t+ ' width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://www.youtube.com/embed/' + videoId + '?autoplay=0&rel=0&amp;controls=0&amp;showinfo=0'\r\n\t\t\t+ '\" frameborder=\"0\" wmode=\"opaque\" autoplay=\"false\"></iframe>';\r\n\t} else if (videoType == 'vimeo') {\r\n\t\treturn '<iframe wmode=\"opaque\" width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://player.vimeo.com/video/' + videoId + '?autoplay=1'\r\n\t\t\t+ '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\r\n\t}\r\n\r\n\treturn '';\r\n};\r\n\r\n$$.ScrollWidth = function () {\r\n\t// создадим элемент с прокруткой\r\n\tvar div = document.createElement('div');\r\n\r\n\tdiv.style.overflowY = 'scroll';\r\n\tdiv.style.width = '50px';\r\n\tdiv.style.height = '50px';\r\n\r\n\t// при display:none размеры нельзя узнать\r\n\t// нужно, чтобы элемент был видим,\r\n\t// visibility:hidden - можно, т.к. сохраняет геометрию\r\n\tdiv.style.visibility = 'hidden';\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar scrollWidth = div.offsetWidth - div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn scrollWidth;\r\n};\r\n\r\n$$.FakerInfo = function (block) {\r\n\tvar news = block.find('.news-block');\r\n\r\n\tnews.each(function () {\r\n\t\tvar item = $(this);\r\n\t\tvar hasImage = item.find('img').length == 0 ? false : true;\r\n\t\tvar hasTitle = item.find('.title').length == 0 ? false : true;\r\n\r\n\t\tif (hasTitle) {\r\n\t\t\tvar title = item.find('.title');\r\n\t\t\tvar subtitle = item.find('.subtitle');\r\n\t\t\tvar description = item.find('.description');\r\n\t\t\tvar date = item.find('.date');\r\n\t\t\tvar rating = item.find('.rating');\r\n\r\n\t\t\tvar timeDate = new Date(faker.date.between(2010, 2014));\r\n\t\t\tvar curr_date = timeDate.getDate();\r\n\t\t\tvar curr_month = timeDate.getMonth() + 1;\r\n\t\t\tvar curr_year = timeDate.getFullYear() % 1000;\r\n\t\t\tvar formatDate = curr_date + \".\" + numb(curr_month) + \".\" + curr_year;\r\n\t\t\tvar formatTime = numb(timeDate.getHours()) + \":\" + numb(timeDate.getMinutes());\r\n\r\n\t\t\tdate.text(formatDate + ', ' + formatTime);\r\n\t\t\ttitle.text(faker.lorem.words(1)[ 0 ]);\r\n\t\t\tsubtitle.text(faker.lorem.paragraph(1));\r\n\t\t\tdescription.text(faker.lorem.paragraph(1));\r\n\t\t\trating.text($$.getRandomInt(0, 4) + '.' + $$.getRandomInt(0, 9));\r\n\t\t}\r\n\r\n\t\tif (hasImage) {\r\n\t\t\tvar width = item.width();\r\n\t\t\tvar height = item.height();\r\n\t\t\titem.find('img').attr('src', faker.image.imageUrl(width, height, 'transport'));\r\n\t\t}\r\n\t});\r\n\r\n\tfunction numb (number) {\r\n\t\tif (number < 10) {\r\n\t\t\treturn '0' + number;\r\n\t\t} else {\r\n\t\t\treturn number;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$$.number_format = function (number, decimals, dec_point, thousands_sep) {\r\n\tnumber = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n\tvar n = !isFinite(+number) ? 0 : +number,\r\n\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\ts = '',\r\n\t\ttoFixedFix = function (n, prec) {\r\n\t\t\tvar k = Math.pow(10, prec);\r\n\t\t\treturn '' + Math.round(n * k) / k;\r\n\t\t};\r\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n\tif (s[ 0 ].length > 3) {\r\n\t\ts[ 0 ] = s[ 0 ].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t}\r\n\tif ((s[ 1 ] || '').length < prec) {\r\n\t\ts[ 1 ] = s[ 1 ] || '';\r\n\t\ts[ 1 ] += new Array(prec - s[ 1 ].length + 1).join('0');\r\n\t}\r\n\treturn s.join(dec);\r\n};\r\n\r\n$$.getVideoID = function (url) {\r\n\tlet id = '';\r\n\turl = url.replace(/(>|<)/gi, '').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\r\n\r\n\tif (url[ 2 ] !== undefined) {\r\n\t\tid = url[ 2 ].split(/[^0-9a-z_\\-]/i);\r\n\t\tid = id[ 0 ];\r\n\t} else {\r\n\t\tid = url;\r\n\t}\r\n\r\n\treturn id;\r\n};\r\n\r\n$$.secondsToTime = function (seconds) {\r\n\t\"use strict\";\r\n\r\n\tlet allTime = seconds;\r\n\tlet minutes = parseInt(seconds / 60);\r\n\tlet sec = parseInt(seconds - (minutes * 60));\r\n\r\n\tif (minutes < 10) {\r\n\t\tminutes = `0${minutes}`\r\n\t}\r\n\r\n\tif (sec < 10) {\r\n\t\tsec = `0${sec}`\r\n\t}\r\n\r\n\treturn {\r\n\t\tminutes: minutes,\r\n\t\tsec:     sec\r\n\t};\r\n};\r\n","$$.Component = class Component extends $$.Emitter {\r\n\tconstructor (root, options) {\r\n\t\tsuper();\r\n\r\n\t\tthis.root = root;\r\n\t\tthis.options = _.merge(this._defaultOptions, options);\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tinitialize () {\r\n\t\tthis._cacheNodes();\r\n\t\tthis._bindEvents();\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t_cacheNodes () {\r\n\t}\r\n\r\n\t_bindEvents () {\r\n\t}\r\n\r\n\t_ready () {\r\n\r\n\t}\r\n};\r\n","$$.ExampleClass = class ExampleClass extends $$.Component {\r\n\tconstructor (root, options) {\r\n\t\tsuper(root, options);\r\n\t}\r\n\r\n\tget _defaultOptions () {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn {}\r\n\t}\r\n\r\n\tinitialize () {\r\n\t\t\"use strict\";\r\n\r\n\t\tsuper.initialize();\r\n\t}\r\n\r\n\t_cacheNodes () {\r\n\t\t\"use strict\";\r\n\r\n\t\tthis.nodes = {};\r\n\t}\r\n\r\n\t_bindEvents () {\r\n\t\t\"use strict\";\r\n\t}\r\n\r\n\t_ready () {\r\n\t\t\"use strict\";\r\n\r\n\t\tconsole.log('ready Class');\r\n\t}\r\n};\r\n","class Application {\r\n\tconstructor () {\r\n\t\t\"use strict\";\r\n\r\n\t\tthis._initFunction();\r\n\t}\r\n\r\n\t_initFunction () {\r\n\t\t\"use strict\";\r\n\r\n\t\tconsole.log('Init Function');\r\n\r\n\t\tlet testClass = new $$.ExampleClass($, {});\r\n\t}\r\n}\r\n\r\n$(function () {\r\n\t$$.window = $(window);\r\n\t$$.body = $(document.body);\r\n\t$$.windowWidth = $$.window.width();\r\n\t$$.windowHeight = $$.window.height();\r\n\r\n\t$$.application = new Application();\r\n\r\n\t$$.ESCAPE_KEY_CODE = 27;\r\n\r\n\t$$.window.on('resize', function () {\r\n\t\t$$.windowWidth = $$.window.width();\r\n\t\t$$.windowHeight = $$.window.height();\r\n\t});\r\n});\r\n"],"sourceRoot":"/source/"}